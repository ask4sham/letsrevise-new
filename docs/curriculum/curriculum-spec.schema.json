{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://letsrevise.app/schemas/curriculum-spec.schema.json",
  "title": "LetsRevise Curriculum Spec",
  "type": "object",
  "additionalProperties": false,
  "required": ["specVersion", "generatedAt", "subjects"],
  "properties": {
    "specVersion": {
      "type": "string",
      "description": "Schema/spec version for forward compatibility.",
      "pattern": "^[0-9]+\\.[0-9]+\\.[0-9]+$"
    },
    "generatedAt": {
      "type": "string",
      "format": "date-time",
      "description": "When this spec dataset was generated/assembled."
    },
    "source": {
      "type": "string",
      "description": "Optional origin (e.g., manual, imported, curated)."
    },
    "metadata": {
      "type": "object",
      "description": "Optional global metadata.",
      "additionalProperties": true
    },
    "subjects": {
      "type": "array",
      "minItems": 1,
      "items": { "$ref": "#/$defs/Subject" }
    }
  },
  "$defs": {
    "Slug": {
      "type": "string",
      "minLength": 1,
      "maxLength": 80,
      "pattern": "^[a-z0-9]+(?:-[a-z0-9]+)*$",
      "description": "Lowercase kebab-case stable identifier."
    },
    "Subject": {
      "type": "object",
      "additionalProperties": false,
      "required": ["id", "name", "levels"],
      "properties": {
        "id": { "$ref": "#/$defs/Slug" },
        "name": { "type": "string", "minLength": 1 },
        "metadata": { "type": "object", "additionalProperties": true },
        "levels": {
          "type": "array",
          "minItems": 1,
          "items": { "$ref": "#/$defs/Level" }
        }
      }
    },
    "Level": {
      "type": "object",
      "additionalProperties": false,
      "required": ["id", "name", "boards"],
      "properties": {
        "id": { "$ref": "#/$defs/Slug" },
        "name": { "type": "string", "minLength": 1 },
        "metadata": { "type": "object", "additionalProperties": true },
        "boards": {
          "type": "array",
          "minItems": 1,
          "items": { "$ref": "#/$defs/Board" }
        }
      }
    },
    "Board": {
      "type": "object",
      "additionalProperties": false,
      "required": ["id", "name", "topics"],
      "properties": {
        "id": { "$ref": "#/$defs/Slug" },
        "name": { "type": "string", "minLength": 1 },
        "region": { "type": "string" },
        "metadata": { "type": "object", "additionalProperties": true },
        "topics": {
          "type": "array",
          "minItems": 1,
          "items": { "$ref": "#/$defs/Topic" }
        }
      }
    },
    "Topic": {
      "type": "object",
      "additionalProperties": false,
      "required": ["id", "name"],
      "properties": {
        "id": { "$ref": "#/$defs/Slug" },
        "name": { "type": "string", "minLength": 1 },
        "subtopics": {
          "type": "array",
          "items": { "type": "string", "minLength": 1 }
        },
        "examRequirements": {
          "type": "array",
          "items": { "type": "string", "minLength": 1 }
        },
        "recommendedLessonCount": {
          "type": "integer",
          "minimum": 0,
          "maximum": 50
        },
        "metadata": { "type": "object", "additionalProperties": true }
      }
    }
  }
}

